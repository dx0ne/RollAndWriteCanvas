<!DOCTYPE html>
<html>
<head>
    <title>Roll And Write Canvas</title>
    <style>
        /* We'll move this to styles.css */
        * { margin: 0; padding: 0; box-sizing: border-box; }
    </style>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&display=swap">
    <meta charset="UTF-8">
</head>
<body>
    <div class="container">
        <div class="controls">
            <div class="file-upload">
                <input type="file" id="imageUpload" accept="image/*" class="hidden-input">
                <label for="imageUpload" class="file-upload-label" title="Upload Image">
                    <i class="fas fa-file-upload"></i>
                </label>
            </div>
            <div class="color-picker">
                <div class="color-option selected" data-color="#ff0000" style="background-color: #ff0000"></div>
                <div class="color-option" data-color="#00ff00" style="background-color: #00ff00"></div>
                <div class="color-option" data-color="#0000ff" style="background-color: #0000ff"></div>
                <div class="color-option" data-color="#000000" style="background-color: #000000"></div>
            </div>
            <button id="undoButton" title="Undo last action [Ctrl+Z]"><i class="fas fa-undo"></i></button>
            <div class="tools">
                <div class="tool-option selected" data-tool="pen"><i class="fas fa-pen"></i></div>
                <div class="tool-option" data-tool="eraser"><i class="fas fa-eraser"></i></div>
                <div class="tool-option" data-tool="line"><i class="fas fa-ruler"></i></div>
                <div class="tool-option" data-tool="rectangle"><i class="far fa-square"></i></div>
            </div>
            <button id="saveButton" title="Save Board"><i class="fas fa-save"></i></button>
            <button id="loadButton" title="Load Board"><i class="fas fa-folder-open"></i></button>
            <div class="dice-roller">
                <input type="text" id="diceInput" placeholder="e.g., 3d6, d20" title="Enter dice notation like '2d6' or 'd20">
                <button id="rollButton" title="Roll Dice"><i class="fas fa-dice"></i></button>
                <div id="rollResult"></i></div>
            </div>
            <div class="dice-faces-container">
                <input type="text" 
                       class="custom-face-input" 
                       placeholder="dCombat [💀⚔️🛡️]"
                       title="Enter dice set in format: dName [symbol1symbol2symbol3] (e.g., dCombat [💀⚔️🛡️])"
                       style="width: 200px">
                <button id="addCustomFaceButton" title="Add custom dice set">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
        </div>
        <div class="board-container">
            <canvas id="gameBoard"></canvas>
            <div id="markersLayer"></div>
        </div>
    </div>
    <div id="notification" class="notification"></div>
    <script src="./GraphemeSplitter.js"></script>
    <script src="./app.js"></script>
</body>
</html> 